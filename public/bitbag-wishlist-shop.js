(()=>{"use strict";function e(e,t,r,n,i,a,o){try{var c=e[a](o),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,i)}function t(t){return function(){var r=this,n=arguments;return new Promise((function(i,a){var o=t.apply(r,n);function c(t){e(o,i,a,c,u,"next",t)}function u(t){e(o,i,a,c,u,"throw",t)}c(void 0)}))}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i={form:"#sylius-product-adding-to-cart"},a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(this,e),null==t||!t.nodeType)throw new Error("The first parameter must be a NodeElement");var a=n.selectors;this.node=t,this.selectors=Object.assign({},i,a)}var a,o,c,u,s;return a=e,o=[{key:"init",value:function(){var e=this;this.node.addEventListener("click",(function(t){return e._addVariantToWishlist(t)}))}},{key:"_addVariantToWishlist",value:(s=t(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this._getWishlistVariantUri();case 3:r=e.sent,this._redirectToWishlist(r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"_getWishlistVariantUri",value:(u=t(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=document.querySelector(this.selectors.form),(r=new FormData(t)).append(this.node.name,""),e.next=6,fetch(t.action,{method:"POST",body:r});case 6:return n=e.sent,e.next=9,n.text();case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(){return u.apply(this,arguments)})},{key:"_redirectToWishlist",value:function(e){location.href=e}}],o&&n(a.prototype,o),c&&n(a,c),e}();function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null==t||!t.nodeType)throw new Error("The first parameter must be a NodeElement");this.item=document.querySelector(t.dataset.bbTarget),this.nodePrice=t,this.pricing=JSON.parse(t.dataset.bbPricing||""),this.selectors=this.item.querySelectorAll("select[data-name]"),this.selectedVariant={}}var t,r,n;return t=e,(r=[{key:"init",value:function(){var e=this;this.selectors.forEach((function(t){e._updateSelectedVariant(t),e.selectedVariant[t.dataset.name]=t.value,t.addEventListener("change",e._onChangeSelector.bind(e))})),this.nodePrice.removeAttribute("data-bb-pricing"),this._updatePrice()}},{key:"_onChangeSelector",value:function(e){this._updateSelectedVariant(e.currentTarget)}},{key:"_updateSelectedVariant",value:function(e){this.selectedVariant[e.dataset.name]=e.value,this._updatePrice()}},{key:"_updatePrice",value:function(){var e=this,t=this.pricing.find((function(t){return r=t,n=e.selectedVariant,Object.keys(n).every((function(e){return r.hasOwnProperty(e)&&r[e]===n[e]}));var r,n}));this.nodePrice.innerHTML=t.value}}])&&o(t.prototype,r),n&&o(t,n),e}();function u(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}u(document.querySelectorAll('[data-bb-toggle="wishlist-variant"]')).map((function(e){return new a(e).init()})),u(document.querySelectorAll('[data-bb-toggle="wishlist-variant-price"]')).map((function(e){return new c(e).init()}))})();